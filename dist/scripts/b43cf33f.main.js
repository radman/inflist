(function(){window.inflist={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";return inflist.mainRouter=new inflist.Routers.MainRouter,Backbone.history.start()}},$(function(){"use strict";return inflist.init()})}).call(this),this.JST=this.JST||{},this.JST["app/scripts/templates/home_page.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<header class="bar-title">\n  <h1 class="title">',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</h1>\n</header>\n<div class="content">\n</div>\n'}),this.JST["app/scripts/templates/item.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+=i((f=b&&b.model,f=null==f||f===!1?f:f.name,typeof f===h?f.apply(b):f))+"\n"}),function(){"use strict";var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};inflist.Routers.MainRouter=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.routes={"":"home"},d.prototype.home=function(){var a,b;return a=new inflist.Collections.ItemCollection,a.fetchNextPage(),a.fetchNextPage(),b=new inflist.Views.HomePageView({collection:a}),$("#page-container").html(b.render().$el)},d}(Backbone.Router)}.call(this),function(){"use strict";var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};inflist.Models.ItemModel=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d}(Backbone.Model)}.call(this),function(){var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};inflist.Collections.ItemCollection=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.initialize=function(){return this.isFetching=!1},d.prototype.fetchNextPage=function(){var a,b=this;return console.log("fetching"),this.isFetching=!0,a=function(){var a,c,d;for(a=d=0;10>d;a=++d)c="item "+Math.floor(1e3*Math.random()+1),b.add({name:c});return b.isFetching=!1},setTimeout(a,1e3)},d.prototype.isFetching=function(){return this.isFetching},d}(Backbone.Collection)}.call(this),function(){"use strict";var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};inflist.Views.HomePageView=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.id="home_page",d.prototype.template=JST["app/scripts/templates/home_page.hbs"],d.prototype.initialize=function(){return this.subviews=[],this.subviews.push(new inflist.Views.ItemListView({collection:this.collection}))},d.prototype.render=function(){var a,b,c,d,e;for(this.$el.html(this.template({title:"InfList Demo"})),a=this.$el.find(".content"),e=this.subviews,c=0,d=e.length;d>c;c++)b=e[c],a.append(b.render().el);return this},d.prototype.delegateEvents=function(){var a,b,c,e;for(e=this.subviews,b=0,c=e.length;c>b;b++)a=e[b],a.delegateEvents();return d.__super__.delegateEvents.apply(this,arguments)},d}(Backbone.View)}.call(this),function(){"use strict";var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};inflist.Views.ItemListView=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.tagName="ul",d.prototype.className="list",d.prototype.id="items",d.prototype.initialize=function(){var a=this;return this.collection.on("reset",this.render,this),this.collection.on("add",this.addOne,this),this.currentlyFetching=!1,$(window).scroll(function(){return!a.collection.isFetching&&$(window).scrollTop()>$(document).height()-$(window).height()-50?a.collection.fetchNextPage():void 0})},d.prototype.addOne=function(a){var b;return b=new inflist.Views.ItemView({model:a}),this.$el.append(b.render().el)},d.prototype.addAll=function(){var a,b,c,d,e;for(d=this.collection.models,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.addOne(a));return e},d.prototype.render=function(){return this.$el.empty(),this.addAll(),this},d}(Backbone.View)}.call(this),function(){"use strict";var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};inflist.Views.ItemView=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.template=JST["app/scripts/templates/item.hbs"],d.prototype.tagName="li",d.prototype.render=function(){return this.$el.html(this.template({model:this.model.toJSON()})),this},d}(Backbone.View)}.call(this);